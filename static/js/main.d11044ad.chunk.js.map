{"version":3,"sources":["firebase.js","util/crypter.js","redux/user.js","pages/login.js","pages/encriptador/texto.js","util/fileManager.js","pages/encriptador/archivos.js","pages/encriptador/listaEncriptada.js","pages/bitacora.js","pages/encriptador/encriptador.js","pages/desencriptador/listaEncriptada.js","pages/desencriptador/desencriptador.js","router.js","redux/store.js","App.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","storage","Crypter","getEncrypted","tipo","word","this","DESEncrypt","RC4Encrypt","getDesencrypted","DESDecrypt","RC4Decrypt","CryptoKey","CryptoJS","enc","Hex","parse","AESEncrypt","AES","encrypt","mode","ECB","toString","AESDecrypt","decrypt","Utf8","TripleDES","RC4","defaultState","session","undefined","sessionStorage","JSON","getItem","selectedFile","SET_SESSION","SET_SELECTED_FILE","deleteSession","dispatch","getState","removeItem","type","payload","Login","useState","correo","setCorreo","contraseña","setContraseña","tipoUsuario","setTipoUsuario","registrarse","setRegistrarse","nombre","setNombre","errorLogin","setErrorLogin","loading","setLoading","userStore","useSelector","state","user","useDispatch","class","to","className","TextField","variant","name","label","value","onChange","e","target","CircularProgress","color","Button","size","onClick","collection","where","get","then","response","empty","docs","data","setItem","stringify","setSesion","FormControl","fullWidth","InputLabel","Select","displayEmpty","MenuItem","doc","set","usuario","password","fecha","Timestamp","now","startIcon","Texto","contenido","setContenido","setTipo","errorNombre","setErrorNombre","errorContenido","setErrorContenido","errorTipo","setErrorTipo","validar","_","isEmpty","isNull","console","log","setBitacora","movimiento","tipoArchivo","placeholder","helperText","error","multiline","rows","component","FormLabel","RadioGroup","aria-label","FormControlLabel","control","Radio","FormHelperText","trim","tipoEncriptacion","FileManager","base64toBlob","base64Data","contentType","sliceSize","byteCharacters","atob","bytesLength","length","slicesCount","Math","ceil","byteArrays","Array","sliceIndex","begin","end","min","bytes","offset","i","charCodeAt","Uint8Array","Blob","blobToFile","theBlob","fileName","lastModifiedDate","Date","Archivos","uploading","setUploading","progress","setProgress","textProgress","setTextProgress","hidden","id","files","htmlFor","reader","FileReader","readAsDataURL","onload","text","result","split","typeFile","blob","upload","ref","child","put","on","snapshot","onProgress","bytesTransferred","totalBytes","getDownloadURL","url","LinearProgress","ListaEncriptada","lista","setLista","useEffect","onSnapshot","listaFinal","forEach","objet","push","List","map","objeto","icono","ListItem","ListItemIcon","ListItemText","primary","secondary","moment","unix","seconds","format","Bitacora","open","setOpen","setRows","finalRow","element","Modal","onClose","TableContainer","Paper","Table","TableHead","TableRow","TableCell","align","TableBody","row","scope","IconButton","TabPanel","props","children","index","other","role","aria-labelledby","Box","p","Typography","Encriptador","React","setValue","AppBar","position","Toolbar","noWrap","endIcon","edge","Tabs","event","newValue","Tab","desencriptar","setSelectedFile","button","Desencriptador","file","setFile","isEncrypted","setIsEncrypted","linkArchivo","setLinkArchivo","isDocument","setIsDocument","textoDesencriptado","setTextoDesencriptado","isDecrypting","setIsDecrypting","style","width","fontSize","fetch","resp","originalFile","pop","extension","blobDecrypted","window","URL","createObjectURL","link","href","download","alignSelf","Router","exact","path","Component","rootReducer","combineReducers","action","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","theme","createMuiTheme","palette","light","main","dark","contrastText","App","locale","store","createStore","applyMiddleware","thunk","ThemeProvider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0kBAgBAA,IAASC,cAVY,CACjBC,OAAQ,0CACRC,WAAY,+BACZC,UAAW,eACXC,cAAe,2BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAKJR,QAAf,EACMS,EAAYT,IAASS,YACrBC,EAAUV,IAASU,U,iBCyBVC,EA3CD,CACVC,aADU,SACGC,EAAMC,GACf,OAAQD,GACJ,IAAK,MACD,OAAOE,KAAKC,WAAWF,GAC3B,IAAK,MACD,OAAOC,KAAKE,WAAWH,GAC3B,QACI,MAAO,KAGnBI,gBAXU,SAWML,EAAMC,GAClB,OAAQD,GACJ,IAAK,MACD,OAAOE,KAAKI,WAAWL,GAC3B,IAAK,MACD,OAAOC,KAAKK,WAAWN,GAC3B,QACI,MAAO,KAGnBO,UArBU,WAsBN,OAAOC,IAASC,IAAIC,IAAIC,MAAM,qEAElCC,WAxBU,SAwBCZ,GACP,OAAOQ,IAASK,IAAIC,QAAQd,EAAMC,KAAKM,YAAa,CAAEQ,KAAMP,IAASO,KAAKC,MAAOC,YAErFC,WA3BU,SA2BClB,GACP,OAAOQ,IAASK,IAAIM,QAAQnB,EAAMC,KAAKM,YAAa,CAAEQ,KAAMP,IAASO,KAAKC,MAAOC,SAAST,IAASC,IAAIW,OAE3GlB,WA9BU,SA8BCF,GACP,OAAOQ,IAASa,UAAUP,QAAQd,EAAMC,KAAKM,YAAa,CAAEQ,KAAMP,IAASO,KAAKC,MAAOC,YAE3FZ,WAjCU,SAiCCL,GACP,OAAOQ,IAASa,UAAUF,QAAQnB,EAAMC,KAAKM,YAAa,CAAEQ,KAAMP,IAASO,KAAKC,MAAOC,SAAST,IAASC,IAAIW,OAEjHjB,WApCU,SAoCCH,GACP,OAAOQ,IAASc,IAAIR,QAAQd,EAAMC,KAAKM,YAAa,CAAEQ,KAAMP,IAASO,KAAKC,MAAOC,YAErFX,WAvCU,SAuCCN,GACP,OAAOQ,IAASc,IAAIH,QAAQnB,EAAMC,KAAKM,YAAa,CAAEQ,KAAMP,IAASO,KAAKC,MAAOC,SAAST,IAASC,IAAIW,Q,gBCzCzGG,EAAe,CACjBC,aAAoCC,IAA3BC,eAAeF,QAAwBG,KAAKhB,MAAMe,eAAeE,QAAQ,YAAc,KAChGC,aAAc,MAIZC,EAAc,cACdC,EAAoB,oBAenB,IAeMC,EAAgB,kBAAM,SAACC,EAAUC,GAC1CR,eAAeS,WAAW,WAC1BF,EAAS,CACLG,KAAMN,EACNO,QAAS,S,OCjCF,SAASC,IACpB,MAA4BC,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAAoCF,mBAAS,IAA7C,mBAAOG,EAAP,KAAmBC,EAAnB,KACA,EAAsCJ,mBAAS,IAA/C,mBAAOK,EAAP,KAAoBC,EAApB,KACA,EAAsCN,oBAAS,GAA/C,mBAAOO,EAAP,KAAoBC,EAApB,KACA,EAA4BR,mBAAS,IAArC,mBAAOS,EAAP,KAAeC,EAAf,KAEA,EAAoCV,oBAAS,GAA7C,mBAAOW,EAAP,KAAmBC,EAAnB,KACA,EAA8BZ,oBAAS,GAAvC,mBAAOa,EAAP,KAAgBC,EAAhB,KAGMC,EAAYC,aAAY,SAACC,GAAD,OAAWA,EAAMC,KAAKjC,WAC9CS,EAAWyB,cAgCjB,OACI,sBAAKC,MAAM,YAAX,UACkB,MAAbL,EACqB,eAAlBA,EAAUvD,KACN,cAAC,IAAD,CAAU6D,GAAG,iBAEb,cAAC,IAAD,CAAUA,GAAG,oBAGjB,cAAC,IAAD,CAAUA,GAAG,OAEfd,GACE,uBAAMa,MAAM,aAAZ,UACI,oBAAIA,MAAM,2BAAV,iCACCT,GACG,qBAAKW,UAAU,cAAf,6HAMJ,gCACI,qBAAKF,MAAM,aAAX,SACI,cAACG,EAAA,EAAD,CACIC,QAAQ,WACR3B,KAAK,OACL4B,KAAK,SACLC,MAAM,SACNC,MAAO1B,EACP2B,SAAU,SAACC,GACP3B,EAAU2B,EAAEC,OAAOH,YAI/B,qBAAKP,MAAM,aAAX,SACI,cAACG,EAAA,EAAD,CACIC,QAAQ,WACR3B,KAAK,WACL4B,KAAK,gBACLC,MAAM,gBACNC,MAAOxB,EACPyB,SAAU,SAACC,GACPzB,EAAcyB,EAAEC,OAAOH,eAKtCd,GAAW,cAACkB,EAAA,EAAD,CAAkBC,MAAM,cAEpC,sBAAKZ,MAAM,gBAAX,UACI,cAACa,EAAA,EAAD,CAAQD,MAAM,UAAUE,KAAK,QAAQV,QAAQ,YAAYW,QAhFzD,WAChBrB,GAAW,GACX1D,EACKgF,WAAW,SACXC,MAAM,UAAW,KAAM/E,EAAQe,WAAW4B,IAC1CoC,MAAM,WAAY,KAAM/E,EAAQe,WAAW8B,IAC3CmC,MACAC,MAAK,SAACC,GACH,GAAKA,EAASC,MAIV7B,GAAc,OAJG,CACjB,IAAIM,EAAOsB,EAASE,KAAK,GAAGC,OAC5BjD,EDVK,SAACwB,GAAD,OAAU,SAACxB,EAAUC,GAC1CR,eAAeyD,QAAQ,UAAWxD,KAAKyD,UAAU3B,IACjDxB,EAAS,CACLG,KAAMN,EACNO,QAASoB,KCMY4B,CAAU5B,IAIvBJ,GAAW,OAkEH,+BAGA,cAACmB,EAAA,EAAD,CAAQD,MAAM,UAAUE,KAAK,QAAQV,QAAQ,WAAWW,QAAS,kBAAM3B,GAAe,IAAtF,+BAMXD,GACG,uBAAMa,MAAM,aAAZ,UACI,oBAAIA,MAAM,2BAAV,yBACA,gCACI,qBAAKA,MAAM,aAAX,SACI,cAACG,EAAA,EAAD,CACIC,QAAQ,WACR3B,KAAK,OACL4B,KAAK,SACLC,MAAM,SACNC,MAAOlB,EACPmB,SAAU,SAACC,GACPnB,EAAUmB,EAAEC,OAAOH,YAI/B,qBAAKP,MAAM,aAAX,SACI,cAACG,EAAA,EAAD,CACIC,QAAQ,WACR3B,KAAK,OACL4B,KAAK,SACLC,MAAM,UACNC,MAAO1B,EACP2B,SAAU,SAACC,GACP3B,EAAU2B,EAAEC,OAAOH,YAI/B,qBAAKP,MAAM,aAAX,SACI,cAACG,EAAA,EAAD,CACIC,QAAQ,WACR3B,KAAK,WACL4B,KAAK,gBACLC,MAAM,gBACNC,MAAOxB,EACPyB,SAAU,SAACC,GACPzB,EAAcyB,EAAEC,OAAOH,YAInC,qBAAKP,MAAM,aAAX,SACI,eAAC2B,EAAA,EAAD,CAAaC,WAAS,EAACxB,QAAQ,WAA/B,UACI,cAACyB,EAAA,EAAD,8BACA,eAACC,EAAA,EAAD,CACIxB,MAAM,kBACNC,MAAOtB,EACPuB,SAAU,SAACC,GACPvB,EAAeuB,EAAEC,OAAOH,QAE5BwB,cAAY,EANhB,UAQI,cAACC,EAAA,EAAD,CAAUzB,MAAM,cAAhB,yBACA,cAACyB,EAAA,EAAD,CAAUzB,MAAM,iBAAhB,uCAKhB,sBAAKP,MAAM,gBAAX,UACI,cAACa,EAAA,EAAD,CAAQD,MAAM,UAAUE,KAAK,QAAQV,QAAQ,YAAYW,QAlIrD,WACpB/E,EACKgF,WAAW,SACXiB,MACAC,IAAI,CACDC,QAASjG,EAAQe,WAAW4B,GAC5BuD,SAAUlG,EAAQe,WAAW8B,GAC7BsD,MAAO9G,EAASS,UAAUsG,UAAUC,MACpCnG,KAAM6C,EACNI,OAAQnD,EAAQe,WAAWoC,MAyHnB,yBAGA,cAACwB,EAAA,EAAD,CACID,MAAM,UACNE,KAAK,QACLV,QAAQ,WACRW,QAAS,kBAAM3B,GAAe,IAC9BoD,UAAW,cAAC,IAAD,IALf,+B,gIC1JT,SAASC,IACpB,MAA4B7D,mBAAS,IAArC,mBAAOS,EAAP,KAAeC,EAAf,KACA,EAAkCV,mBAAS,IAA3C,mBAAO8D,EAAP,KAAkBC,EAAlB,KACA,EAAwB/D,mBAAS,MAAjC,mBAAOxC,EAAP,KAAawG,EAAb,KAEMjD,EAAYC,aAAY,SAACC,GAAD,OAAWA,EAAMC,KAAKjC,WACpD,EAAsCe,oBAAS,GAA/C,mBAAOiE,EAAP,KAAoBC,EAApB,KACA,EAA4ClE,oBAAS,GAArD,mBAAOmE,EAAP,KAAuBC,EAAvB,KACA,EAAkCpE,oBAAS,GAA3C,mBAAOqE,EAAP,KAAkBC,EAAlB,KAqBMC,EAAU,WACZ,OAAIC,IAAEC,QAAQhE,IACVyD,GAAe,IACR,IAEPA,GAAe,GAEfM,IAAEC,QAAQX,IACVM,GAAkB,IACX,IAEPA,GAAkB,GAElBI,IAAEE,OAAOlH,IACT8G,GAAa,IACN,IAEPA,GAAa,GAEjBK,QAAQC,IAAIpH,IACL,MAELqH,EAAc,WAChBzH,EACKgF,WAAW,YACXiB,MACAC,IAAI,CACDG,MAAO9G,EAASS,UAAUsG,UAAUC,MACpCmB,WAAYxH,EAAQe,WAChB,cAAgBf,EAAQqB,WAAWoC,EAAUwC,SAAW,uCAAyC9C,GAErGsE,YAAazH,EAAQe,WAAW,SAChCkF,QAASxC,EAAUwC,WAI/B,OACI,sBAAKnC,MAAM,cAAX,UACI,cAACG,EAAA,EAAD,CACIG,MAAM,qBACNF,QAAQ,WACRwD,YAAY,uDACZrD,MAAOlB,EACPmB,SAAU,SAACC,GAAD,OAAOnB,EAAUmB,EAAEC,OAAOH,QACpCsD,WAAW,oCACXC,MAAOjB,IAEX,uBACA,cAAC1C,EAAA,EAAD,CACII,MAAOmC,EACPlC,SAAU,SAACC,GAAD,OAAOkC,EAAalC,EAAEC,OAAOH,QACvCD,MAAM,+BACNyD,WAAS,EACTC,KAAM,EACNH,WAAW,oCACXzD,QAAQ,WACR0D,MAAOf,IAEX,uBACA,eAACpB,EAAA,EAAD,CAAasC,UAAU,WAAWH,MAAOb,EAAzC,UACI,cAACiB,EAAA,EAAD,CAAWD,UAAU,SAArB,6BACA,eAACE,EAAA,EAAD,CAAYC,aAAW,SAAS/D,KAAK,UAAUE,MAAOnE,EAAMoE,SAAU,SAACC,GAAD,OAAOmC,EAAQnC,EAAEC,OAAOH,QAA9F,UACI,cAAC8D,EAAA,EAAD,CAAkB9D,MAAM,MAAM+D,QAAS,cAACC,EAAA,EAAD,IAAWjE,MAAM,QACxD,cAAC+D,EAAA,EAAD,CAAkB9D,MAAM,MAAM+D,QAAS,cAACC,EAAA,EAAD,IAAWjE,MAAM,WAE3D2C,GAAa,cAACuB,EAAA,EAAD,kDAGlB,cAAC3D,EAAA,EAAD,CAAQD,MAAM,UAAUE,KAAK,QAAQV,QAAQ,YAAYW,QAvF/C,WACVoC,MACAnH,EACKgF,WAAW,QACXiB,MACAC,IAAI,CACD9F,KAAM,QACNiD,OAAQnD,EAAQC,aAAaC,EAAKqI,OAAQpF,GAC1CqD,UAAWxG,EAAQC,aAAaC,EAAKqI,OAAQ/B,GAC7CL,MAAO9G,EAASS,UAAUsG,UAAUC,MACpCmC,iBAAkBtI,IAE1BqH,IACAnE,EAAU,IACVqD,EAAa,IACbC,EAAQ,QAwER,0B,aCvFG+B,GA7BG,CACdC,aADc,SACDC,EAAYC,GACrBA,EAAcA,GAAe,GAO7B,IANA,IAAIC,EAAY,KACZC,EAAiBC,KAAKJ,GACtBK,EAAcF,EAAeG,OAC7BC,EAAcC,KAAKC,KAAKJ,EAAcH,GACtCQ,EAAa,IAAIC,MAAMJ,GAElBK,EAAa,EAAGA,EAAaL,IAAeK,EAAY,CAK7D,IAJA,IAAIC,EAAQD,EAAaV,EACrBY,EAAMN,KAAKO,IAAIF,EAAQX,EAAWG,GAElCW,EAAQ,IAAIL,MAAMG,EAAMD,GACnBI,EAASJ,EAAOK,EAAI,EAAGD,EAASH,IAAOI,IAAKD,EACjDD,EAAME,GAAKf,EAAec,GAAQE,WAAW,GAEjDT,EAAWE,GAAc,IAAIQ,WAAWJ,GAE5C,OAAO,IAAIK,KAAKX,EAAY,CAAE9G,KAAMqG,KAExCqB,WArBc,SAqBHC,EAASC,GAIhB,OAFAD,EAAQE,iBAAmB,IAAIC,KAC/BH,EAAQ/F,KAAOgG,EACRD,ICPA,SAASI,KACpB,MAAkC5H,mBAAS,MAA3C,mBAAO8D,EAAP,KAAkBC,EAAlB,KACA,EAAwB/D,mBAAS,MAAjC,mBAAOxC,EAAP,KAAawG,EAAb,KAEA,EAA4ChE,oBAAS,GAArD,mBAAOmE,EAAP,KAAuBC,EAAvB,KACA,EAAkCpE,oBAAS,GAA3C,mBAAOqE,EAAP,KAAkBC,EAAlB,KAEA,EAAkCtE,oBAAS,GAA3C,mBAAO6H,EAAP,KAAkBC,EAAlB,KACA,EAAgC9H,mBAAS,GAAzC,mBAAO+H,EAAP,KAAiBC,EAAjB,KACA,EAAwChI,mBAAS,IAAjD,mBAAOiI,EAAP,KAAqBC,EAArB,KAEMnH,EAAYC,aAAY,SAACC,GAAD,OAAWA,EAAMC,KAAKjC,WA8D9C4F,EAAc,WAChBzH,EACKgF,WAAW,YACXiB,MACAC,IAAI,CACDG,MAAO9G,EAASS,UAAUsG,UAAUC,MACpCmB,WAAYxH,EAAQe,WAChB,cACIf,EAAQqB,WAAWoC,EAAUwC,SAC7B,uCACAO,EAAUrC,MAElBsD,YAAazH,EAAQe,WAAW,aAChCkF,QAASxC,EAAUwC,WAIzBgB,EAAU,WACZ,OAAIC,IAAEE,OAAOZ,IACTM,GAAkB,IACX,IAEPA,GAAkB,GAElBI,IAAEE,OAAOlH,IACT8G,GAAa,IACN,IAEPA,GAAa,GAEjBK,QAAQC,IAAIpH,IACL,KAEX,OACI,sBAAK4D,MAAM,cAAX,WACMyG,GACE,qCACI,eAAC9E,EAAA,EAAD,CAAamC,MAAOf,EAApB,UACI,2DAA4C,OAAdL,GAAsBA,EAAUrC,QAC9D,uBACI0G,QAAM,EACNC,GAAG,wBACHvI,KAAK,OACL+B,SAAU,SAACC,GAAD,OAAOkC,EAAalC,EAAEC,OAAOuG,MAAM,OAEjD,uBAAOC,QAAQ,wBAAf,SACI,cAACrG,EAAA,EAAD,CAAQe,WAAS,EAACxB,QAAQ,YAAYQ,MAAM,UAAUqD,UAAU,OAAhE,sBAIHlB,GAAkB,cAACyB,EAAA,EAAD,sDAEvB,uBACA,eAAC7C,EAAA,EAAD,CAAasC,UAAU,WAAWH,MAAOb,EAAzC,UACI,cAACiB,EAAA,EAAD,CAAWD,UAAU,SAArB,6BACA,eAACE,EAAA,EAAD,CACIC,aAAW,SACX/D,KAAK,UACLE,MAAOnE,EACPoE,SAAU,SAACC,GAAD,OAAOmC,EAAQnC,EAAEC,OAAOH,QAJtC,UAMI,cAAC8D,EAAA,EAAD,CAAkB9D,MAAM,MAAM+D,QAAS,cAACC,EAAA,EAAD,IAAWjE,MAAM,QACxD,cAAC+D,EAAA,EAAD,CAAkB9D,MAAM,MAAM+D,QAAS,cAACC,EAAA,EAAD,IAAWjE,MAAM,WAE3D2C,GAAa,cAACuB,EAAA,EAAD,kDAElB,uBAEA,cAAC3D,EAAA,EAAD,CAAQD,MAAM,UAAUE,KAAK,QAAQV,QAAQ,YAAYW,QAhIvD,WACd,GAAIoC,IAAW,CACXuD,GAAa,GACbI,EAAgB,6BAChB,IAAIK,EAAS,IAAIC,WACjBD,EAAOE,cAAc3E,GACrByE,EAAOG,OAAS,SAAC7G,GACb,IAAI8G,EAAO9G,EAAEC,OAAO8G,OAAOC,MAAM,WACjCF,EAAOA,EAAK,GACZA,EAAOrL,EAAQC,aAAaC,EAAMmL,GAClC,IAAIlB,EAAW3D,EAAUrC,KACrBqH,EAAWhF,EAAUjE,KACrBkJ,EAAOhD,GAAYC,aAAa2C,EAAMG,GAItCE,EAFM3L,EAAQ4L,MAAMC,MAAMzB,GAEb0B,IAAIJ,GAErBC,EAAOI,GACH,iBACA,SAAUC,GAGNnB,EAAgB,+DAChB,IAAIoB,EAAcD,EAASE,iBAAmBF,EAASG,WAAc,IACrExB,EAAYsB,MAEhB,SAAUpE,OAGV,WAGI8D,EAAOK,SAASJ,IAAIQ,iBAAiBlH,MAAK,SAAUmH,GAChDxB,EACI,oDACiB,uBADjB,qEAIJ9K,EACKgF,WAAW,QACXiB,MACAC,IAAI,CACD9F,KAAM,YACNiD,OAAQnD,EAAQC,aAAaC,EAAKqI,OAAQ4B,GAC1C3D,UAAWxG,EAAQC,aAAaC,EAAKqI,OAAQ6D,GAC7CjG,MAAO9G,EAASS,UAAUsG,UAAUC,MACpCmC,iBAAkBtI,IAErB+E,MAAK,WACFwB,EAAa,MACbC,EAAQ,SAEhBa,aA2ER,0BAMPgD,GACG,qCACI,oBAAIvG,UAAU,gBAAd,SAA+B2G,IAC/B,cAAC0B,EAAA,EAAD,CAAgBnI,QAAQ,cAAcQ,MAAM,YAAYL,MAAOoG,IAClD,KAAZA,GACG,cAAC9F,EAAA,EAAD,CAAQD,MAAM,UAAUE,KAAK,QAAQV,QAAQ,YAAYW,QAAS,kBAAM2F,GAAa,IAArF,0C,+HC7JT,SAAS8B,KACpB,MAA0B5J,mBAAS,IAAnC,mBAAO6J,EAAP,KAAcC,EAAd,KAgBA,OAdAC,qBAAU,WACN3M,EAAUgF,WAAW,QAAQ4H,YAAW,SAACxH,GACrC,IAAIyH,EAAa,GACjBzH,EAAS0H,SAAQ,SAACC,GACdF,EAAWG,KAAKD,EAAMxH,WAE1BmH,EAASG,QAEd,IAEHF,qBAAU,WACNpF,QAAQC,IAAIiF,KACb,CAACA,IAGA,qBAAKzI,MAAM,eAAX,SACI,8BACI,cAACiJ,GAAA,EAAD,CAAMhF,UAAU,MAAMG,aAAW,uBAAjC,SACKqE,EAAMS,KAAI,SAACC,GACR,IAAIC,EAAQ,GAERA,EADgB,cAAhBD,EAAO/M,KACC,cAAC,KAAD,IAEA,cAAC,KAAD,IAGZ,IAAIiD,EAASnD,EAAQO,gBAAgB0M,EAAOzE,iBAAkByE,EAAO9J,QAErE,OACI,eAACgK,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,UAAeF,IACf,cAACG,GAAA,EAAD,CACIC,QAASnK,EACToK,UAAWC,KAAOC,KAAKR,EAAO9G,MAAMuH,SAASC,OAAO,sB,mHC/BzE,SAASC,KACpB,MAAwBlL,oBAAS,GAAjC,mBAAOmL,EAAP,KAAaC,EAAb,KAIA,MAAwBpL,mBAAS,IAAjC,mBAAOoF,EAAP,KAAaiG,EAAb,KAwBA,OAtBAtB,qBAAU,WACFoB,GACA/N,EACKgF,WAAW,YACXE,MACAC,MAAK,SAACI,GACH,IAAI2I,EAAW,GACf3I,EAAKuH,SAAQ,SAACqB,GACV,IAbA9J,EAAMjE,EAAM+F,EAASE,EAajB5B,EAAI0J,EAAQ5I,OAChB2I,EAASlB,MAdT3I,EAgBQnE,EAAQqB,WAAWkD,EAAEiD,YAhBvBtH,EAiBEF,EAAQqB,WAAWkD,EAAEkD,aAjBjBxB,EAkBJjG,EAAQqB,WAAWkD,EAAE0B,SAlBRE,EAmBbqH,KAAOC,KAAKlJ,EAAE4B,MAAMuH,SAASC,OAAO,QAlBrD,CAAExJ,OAAMjE,OAAM+F,UAASE,cAsBlB4H,EAAQC,QAGrB,CAACH,IAEA,qCACI,cAACK,GAAA,EAAD,CAAOL,KAAMA,EAAMM,QAAS,kBAAML,GAAQ,IAAQ9J,UAAU,oBAA5D,SACI,cAACoK,GAAA,EAAD,CAAgBrG,UAAWsG,KAAO3J,MAAM,UAAUV,UAAU,WAA5D,SACI,eAACsK,GAAA,EAAD,CAAOpG,aAAW,gBAAlB,UACI,cAACqG,GAAA,EAAD,UACI,eAACC,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,CAAWC,MAAM,SAAjB,4BACA,cAACD,GAAA,EAAD,CAAWC,MAAM,SAAjB,0BACA,cAACD,GAAA,EAAD,CAAWC,MAAM,SAAjB,qBACA,cAACD,GAAA,EAAD,CAAWC,MAAM,SAAjB,wBAGR,cAACC,GAAA,EAAD,UACK7G,EAAKkF,KAAI,SAAC4B,GAAD,OACN,eAACJ,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,CAAW1G,UAAU,KAAK8G,MAAM,MAAhC,SACKD,EAAIzK,OAET,cAACsK,GAAA,EAAD,CAAWC,MAAM,QAAjB,SAA0BE,EAAI1O,OAC9B,cAACuO,GAAA,EAAD,CAAWC,MAAM,QAAjB,SAA0BE,EAAI3I,UAC9B,cAACwI,GAAA,EAAD,CAAWC,MAAM,QAAjB,SAA0BE,EAAIzI,UANnByI,EAAIzK,kBAavC,cAAC2K,GAAA,EAAD,CAAYjK,QAAS,kBAAMiJ,GAAQ,IAAnC,SACI,cAAC,KAAD,SCjDhB,SAASiB,GAASC,GACd,IAAQC,EAAqCD,EAArCC,SAAU5K,EAA2B2K,EAA3B3K,MAAO6K,EAAoBF,EAApBE,MAAUC,EAAnC,YAA6CH,EAA7C,8BAEA,OACI,6CACII,KAAK,WACLvE,OAAQxG,IAAU6K,EAClBpE,GAAE,0BAAqBoE,GACvBG,kBAAA,qBAA+BH,IAC3BC,GALR,aAOK9K,IAAU6K,GACP,cAACI,EAAA,EAAD,CAAKC,EAAG,EAAR,SACI,cAACC,EAAA,EAAD,UAAaP,SAOlB,SAASQ,KACpB,MAA0BC,IAAMhN,SAAS,GAAzC,mBAAO2B,EAAP,KAAcsL,EAAd,KAMMlM,EAAYC,aAAY,SAACC,GAAD,OAAWA,EAAMC,KAAKjC,WAC9CS,EAAWyB,cAMjB,OACI,sBAAKC,MAAM,YAAX,UACkB,MAAbL,GAAqB,cAAC,IAAD,CAAUM,GAAG,MACnC,sBAAKD,MAAM,iBAAX,UACI,eAAC8L,EAAA,EAAD,CAAQC,SAAS,SAAjB,UACI,eAACC,EAAA,EAAD,WACI,cAACN,EAAA,EAAD,CAAYxL,UAAU,SAASE,QAAQ,KAAK6L,QAAM,EAAlD,0BAGA,cAACnC,GAAD,IACA,cAACjJ,EAAA,EAAD,CACIE,QAfH,WACjBzC,EAASD,MAeW6N,QAAS,cAAC,KAAD,IACThM,UAAU,gBACViM,KAAK,MACLvL,MAAM,UALV,8BAUJ,eAACwL,EAAA,EAAD,CAAM7L,MAAOA,EAAOC,SAhCf,SAAC6L,EAAOC,GACzBT,EAASS,IA+B+ClI,aAAW,sBAAsBhE,QAAQ,YAArF,UACI,cAACmM,EAAA,EAAD,CAAKjM,MAAM,UACX,cAACiM,EAAA,EAAD,CAAKjM,MAAM,mBAGnB,cAAC2K,GAAD,CAAU1K,MAAOA,EAAO6K,MAAO,EAA/B,SACI,cAAC3I,EAAD,MAGJ,cAACwI,GAAD,CAAU1K,MAAOA,EAAO6K,MAAO,EAA/B,SACI,cAAC5E,GAAD,SAGR,cAACgC,GAAD,O,8CC/EG,SAASA,KACpB,MAA0B5J,mBAAS,IAAnC,mBAAO6J,EAAP,KAAcC,EAAd,KAEAC,qBAAU,WACN3M,EAAUgF,WAAW,QAAQ4H,YAAW,SAACxH,GACrC,IAAIyH,EAAa,GACjBzH,EAAS0H,SAAQ,SAACC,GACdF,EAAWG,KAAKD,EAAMxH,WAE1BmH,EAASG,QAEd,IAEH,IAAMvK,EAAWyB,cACXyM,EAAe,SAACvK,GAClB3D,ERCuB,SAAC2D,GAAD,OAAS,SAAC3D,EAAUC,GAC/CD,EAAS,CACLG,KAAML,EACNM,QAASuD,KQJAwK,CAAgBxK,KAG7B,OACI,qBAAKjC,MAAM,eAAX,SACI,8BACI,cAACiJ,GAAA,EAAD,CAAMhF,UAAU,MAAMG,aAAW,uBAAjC,SACKqE,EAAMS,KAAI,SAACC,GACR,IAAIC,EAAQ,GAERA,EADgB,cAAhBD,EAAO/M,KACC,cAAC,KAAD,IAEA,cAAC,KAAD,IAGZ,IAAIiD,EAASnD,EAAQO,gBAAgB0M,EAAOzE,iBAAkByE,EAAO9J,QAErE,OACI,eAACgK,GAAA,EAAD,CAAUqD,QAAM,EAAC3L,QAAS,kBAAMyL,EAAarD,IAA7C,UACI,cAACG,GAAA,EAAD,UAAeF,IACf,cAACG,GAAA,EAAD,CACIC,QAASnK,EACToK,UAAWC,KAAOC,KAAKR,EAAO9G,MAAMuH,SAASC,OAAO,sBClCzE,SAAS8C,KACpB,MAAwB/N,mBAAS,IAAjC,mBAAOgO,EAAP,KAAaC,EAAb,KACA,EAAsCjO,oBAAS,GAA/C,mBAAOkO,EAAP,KAAoBC,EAApB,KACA,EAAsCnO,mBAAS,IAA/C,mBAAOoO,EAAP,KAAoBC,EAApB,KACA,EAAoCrO,oBAAS,GAA7C,mBAAOsO,EAAP,KAAmBC,EAAnB,KAEA,EAAoDvO,mBAAS,IAA7D,mBAAOwO,EAAP,KAA2BC,EAA3B,KAEA,EAAwCzO,oBAAS,GAAjD,mBAAO0O,EAAP,KAAqBC,EAArB,KACA,EAAwC3O,mBAAS,IAAjD,mBAAOiI,EAAP,KAAqBC,EAArB,KAGMnH,EAAYC,aAAY,SAACC,GAAD,OAAWA,EAAMC,KAAKjC,WAC9CK,EAAe0B,aAAY,SAACC,GAAD,OAAWA,EAAMC,KAAK5B,gBACjDI,EAAWyB,cAEjB4I,qBAAU,WACe,OAAjBzK,IACAqF,QAAQC,IAAItF,GACZ2O,EAAQ3O,GACiB,aAArBA,EAAa9B,KACb+Q,GAAc,GAEdA,GAAc,GAElBJ,GAAe,MAEpB,CAAC7O,IAEJ,IA6CMuF,EAAc,WAChBzH,EACKgF,WAAW,YACXiB,MACAC,IAAI,CACDG,MAAO9G,EAASS,UAAUsG,UAAUC,MACpCmB,WAAYxH,EAAQe,WAChB,cACIf,EAAQqB,WAAWoC,EAAUwC,SAC7B,0CACAjG,EAAQO,gBAAgBmQ,EAAKlI,iBAAkBkI,EAAKvN,SAE5DsE,YAAazH,EAAQe,WAAW2P,EAAKxQ,MACrC+F,QAASxC,EAAUwC,WAQ/B,OACI,sBAAKnC,MAAM,YAAX,UACkB,MAAbL,GAAqB,cAAC,IAAD,CAAUM,GAAG,MACnC,sBAAKD,MAAM,iBAAX,UACI,cAAC8L,EAAA,EAAD,CAAQC,SAAS,WAAjB,SACI,eAACC,EAAA,EAAD,WACI,cAACN,EAAA,EAAD,CAAYxL,UAAU,SAASE,QAAQ,KAAK6L,QAAM,EAAlD,0BAGA,cAACnC,GAAD,IACA,cAACjJ,EAAA,EAAD,CACIE,QAfH,WACjBzC,EAASD,MAeW6N,QAAS,cAAC,KAAD,IACThM,UAAU,gBACViM,KAAK,MACLvL,MAAM,UALV,gCAWR,sBAAKV,UAAU,wDAAf,WACMkD,IAAEC,QAAQuJ,IACR,sBAAK1M,UAAU,qBAAqBsN,MAAO,CAAEC,MAAO,OAApD,UACI,6BAAKvR,EAAQO,gBAAgBmQ,EAAKlI,iBAAkBkI,EAAKvN,UACxDyN,GACG,qCACI,cAAC,KAAD,CAAUU,MAAO,CAAEE,SAAU,IAAK9M,MAAO,aACzC,iDAAoBgM,EAAKlI,oBACzB,cAAC7D,EAAA,EAAD,CAAQD,MAAM,UAAUR,QAAQ,YAAYW,QA/FvD,WACA,aAAb6L,EAAKxQ,MACLmR,GAAgB,GAChBzG,EAAgB,0BAChB6G,MAAMzR,EAAQO,gBAAgBmQ,EAAKlI,iBAAkBkI,EAAKlK,YACrDvB,MAAK,SAACyM,GAAD,OAAUA,EAAKjG,UACpBxG,MAAK,SAAC0M,GACH/G,EAAgB,6BAChB,IAAIK,EAAS,IAAIC,WACjBD,EAAOE,cAAcwG,GACrBtK,QAAQC,IAAIqK,GACZ1G,EAAOG,OAAS,SAAC7G,GACb,IAAI8G,EAAO9G,EAAEC,OAAO8G,OAAOC,MAAM,WAAWqG,MAExCpG,EAAWmG,EAAapP,KACxBsP,EAAYrG,EAASD,MAAM,KAAKqG,MAEpCvG,EAAOrL,EAAQO,gBAAgBmQ,EAAKlI,iBAAkB6C,GACtD,IAAIlB,EAAWnK,EAAQO,gBAAgBmQ,EAAKlI,iBAAkBkI,EAAKvN,QAE/D2O,EAAgBrJ,GAAYC,aAAa2C,EAAMG,GAC/CY,EAAM2F,OAAOC,IAAIC,gBAAgBH,GAIrCzK,QAAQC,IAAIuK,GAEZ,IAAIK,EACA,cAACvN,EAAA,EAAD,CAAQT,QAAQ,YAAYQ,MAAM,UAAUyN,KAAM/F,EAAKgG,SAAUjI,EAAjE,+BAIJ4G,EAAemB,GACfb,GAAgB,GAChBR,GAAe,GACftJ,UAIZ4J,EAAsBnR,EAAQO,gBAAgBmQ,EAAKlI,iBAAkBkI,EAAKlK,YAC1EqK,GAAe,GACftJ,MAsDwB,6BAKP6J,GACG,qCACI,oBAAIpN,UAAU,gBAAd,SAA+B2G,IAC/B,cAAC0B,EAAA,EAAD,CAAgB3H,MAAM,iBAG7BsM,IAAeJ,GACZ,qCACI,cAAC,KAAD,CAAcU,MAAO,CAAEE,SAAU,IAAK9M,MAAO,aAC7C,qBAAIV,UAAU,gBAAd,yBACa,uBADb,yCAGC8M,MAGPE,IAAeJ,GACb,qCACI,cAAC,KAAD,CAAcU,MAAO,CAAEE,SAAU,IAAK9M,MAAO,aAC7C,qBAAIV,UAAU,gBAAd,yBACa,uBADb,yCAGA,cAACC,EAAA,EAAD,CACI6G,GAAG,eACH1G,MAAM,SACNF,QAAQ,SACR2D,WAAW,EACXC,KAAM,GACNzD,MAAO6M,EACPI,MAAO,CAAEe,UAAW,kBAOvCnL,IAAEC,QAAQuJ,IAAS,2FAG5B,cAAC,GAAD,O,ICjLS4B,G,4JACjB,WACI,OACI,cAAC,IAAD,UACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIzK,UAAWtF,IACjC,cAAC,IAAD,CAAO8P,OAAK,EAACC,KAAK,eAAezK,UAAW0H,KAC5C,cAAC,IAAD,CAAO8C,OAAK,EAACC,KAAK,kBAAkBzK,UAAW0I,c,GAP/BgC,a,gDCA9BC,I,OAAcC,2BAAgB,CAChC/O,KXEW,WAAoD,IAA/BD,EAA8B,uDAAtBjC,EAAckR,EAAQ,uCAC9D,OAAQA,EAAOrQ,MACX,KAAKN,EACD,OAAO,2BAAK0B,GAAZ,IAAmBhC,QAASiR,EAAOpQ,UACvC,KAAKN,EACD,OAAO,2BAAKyB,GAAZ,IAAmB3B,aAAc4Q,EAAOpQ,UAC5C,QACI,OAAOmB,OWNbkP,GAAmBd,OAAOe,sCAAwCC,WCFxE,IAAMC,GAAQC,aAAe,CACzBC,QAAS,CACL5F,QAAS,CACL6F,MAAO,UACPC,KAAM,UACNC,KAAM,UACNC,aAAc,QAElB/F,UAAW,CACP4F,MAAO,UACPC,KAAM,UACNC,KAAM,UACNC,aAAc,WAgBXC,OAZf,WACI/F,KAAOgG,OAAO,MACd,IAAMC,EDdQC,uBAAYhB,GAAaG,GAAiBc,2BAAgBC,QCexE,OACI,cAACC,GAAA,EAAD,CAAeb,MAAOA,GAAtB,SACI,cAAC,IAAD,CAAUS,MAAOA,EAAjB,SACI,cAAC,GAAD,SCpBDK,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB/O,MAAK,YAAkD,IAA/CgP,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1BZ,O","file":"static/js/main.d11044ad.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport 'firebase/storage';\r\n\r\nvar firebaseConfig = {\r\n    apiKey: 'AIzaSyARwyzp33xPGwD8G_jCL0yHGK0tvJYbYyE',\r\n    authDomain: 'crypto-unach.firebaseapp.com',\r\n    projectId: 'crypto-unach',\r\n    storageBucket: 'crypto-unach.appspot.com',\r\n    messagingSenderId: '104157211591',\r\n    appId: '1:104157211591:web:1226650a5a9d5f6acf07e2',\r\n    measurementId: 'G-HJ28XHC4HK',\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase;\r\nconst firestore = firebase.firestore();\r\nconst storage = firebase.storage();\r\n\r\nexport { firestore, storage };\r\n","import CryptoJS from 'crypto-js';\r\n\r\nvar Crypter = {\r\n    getEncrypted(tipo, word) {\r\n        switch (tipo) {\r\n            case 'DES':\r\n                return this.DESEncrypt(word);\r\n            case 'RC4':\r\n                return this.RC4Encrypt(word);\r\n            default:\r\n                return '';\r\n        }\r\n    },\r\n    getDesencrypted(tipo, word) {\r\n        switch (tipo) {\r\n            case 'DES':\r\n                return this.DESDecrypt(word);\r\n            case 'RC4':\r\n                return this.RC4Decrypt(word);\r\n            default:\r\n                return '';\r\n        }\r\n    },\r\n    CryptoKey() {\r\n        return CryptoJS.enc.Hex.parse('000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f');\r\n    },\r\n    AESEncrypt(word) {\r\n        return CryptoJS.AES.encrypt(word, this.CryptoKey(), { mode: CryptoJS.mode.ECB }).toString();\r\n    },\r\n    AESDecrypt(word) {\r\n        return CryptoJS.AES.decrypt(word, this.CryptoKey(), { mode: CryptoJS.mode.ECB }).toString(CryptoJS.enc.Utf8);\r\n    },\r\n    DESEncrypt(word) {\r\n        return CryptoJS.TripleDES.encrypt(word, this.CryptoKey(), { mode: CryptoJS.mode.ECB }).toString();\r\n    },\r\n    DESDecrypt(word) {\r\n        return CryptoJS.TripleDES.decrypt(word, this.CryptoKey(), { mode: CryptoJS.mode.ECB }).toString(CryptoJS.enc.Utf8);\r\n    },\r\n    RC4Encrypt(word) {\r\n        return CryptoJS.RC4.encrypt(word, this.CryptoKey(), { mode: CryptoJS.mode.ECB }).toString();\r\n    },\r\n    RC4Decrypt(word) {\r\n        return CryptoJS.RC4.decrypt(word, this.CryptoKey(), { mode: CryptoJS.mode.ECB }).toString(CryptoJS.enc.Utf8);\r\n    },\r\n};\r\nexport default Crypter;\r\n","//CONSTANTES\r\nconst defaultState = {\r\n    session: sessionStorage.session !== undefined ? JSON.parse(sessionStorage.getItem('session')) : null,\r\n    selectedFile: null,\r\n};\r\n\r\n//TYPES\r\nconst SET_SESSION = 'SET_SESSION';\r\nconst SET_SELECTED_FILE = 'SET_SELECTED_FILE';\r\n\r\n//REDUCER\r\nexport default function userReducer(state = defaultState, action) {\r\n    switch (action.type) {\r\n        case SET_SESSION:\r\n            return { ...state, session: action.payload };\r\n        case SET_SELECTED_FILE:\r\n            return { ...state, selectedFile: action.payload };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//ACCIONES\r\nexport const setSesion = (user) => (dispatch, getState) => {\r\n    sessionStorage.setItem('session', JSON.stringify(user));\r\n    dispatch({\r\n        type: SET_SESSION,\r\n        payload: user,\r\n    });\r\n};\r\n\r\nexport const setSelectedFile = (doc) => (dispatch, getState) => {\r\n    dispatch({\r\n        type: SET_SELECTED_FILE,\r\n        payload: doc,\r\n    });\r\n};\r\n\r\nexport const deleteSession = () => (dispatch, getState) => {\r\n    sessionStorage.removeItem('session');\r\n    dispatch({\r\n        type: SET_SESSION,\r\n        payload: null,\r\n    });\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Button, TextField, Select, MenuItem, FormControl, InputLabel, CircularProgress } from '@material-ui/core';\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport firebase, { firestore } from './../firebase';\r\nimport Crypter from './../util/crypter';\r\n\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setSesion } from './../redux/user';\r\nimport { Redirect } from 'react-router-dom';\r\nexport default function Login() {\r\n    const [correo, setCorreo] = useState('');\r\n    const [contraseña, setContraseña] = useState('');\r\n    const [tipoUsuario, setTipoUsuario] = useState('');\r\n    const [registrarse, setRegistrarse] = useState(false);\r\n    const [nombre, setNombre] = useState('');\r\n\r\n    const [errorLogin, setErrorLogin] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    //section:Para uso del redux y la sesion de usuario\r\n    const userStore = useSelector((state) => state.user.session);\r\n    const dispatch = useDispatch();\r\n\r\n    var iniciarSesion = () => {\r\n        setLoading(true);\r\n        firestore\r\n            .collection('users')\r\n            .where('usuario', '==', Crypter.AESEncrypt(correo))\r\n            .where('password', '==', Crypter.AESEncrypt(contraseña))\r\n            .get()\r\n            .then((response) => {\r\n                if (!response.empty) {\r\n                    var user = response.docs[0].data();\r\n                    dispatch(setSesion(user));\r\n                } else {\r\n                    setErrorLogin(true);\r\n                }\r\n                setLoading(false);\r\n            });\r\n    };\r\n    var handleRegistrarse = () => {\r\n        firestore\r\n            .collection('users')\r\n            .doc()\r\n            .set({\r\n                usuario: Crypter.AESEncrypt(correo),\r\n                password: Crypter.AESEncrypt(contraseña),\r\n                fecha: firebase.firestore.Timestamp.now(),\r\n                tipo: tipoUsuario,\r\n                nombre: Crypter.AESEncrypt(nombre),\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div class=\"container\">\r\n            {userStore != null ? (\r\n                userStore.tipo == 'encriptador' ? (\r\n                    <Redirect to=\"/encriptador\" />\r\n                ) : (\r\n                    <Redirect to=\"/desencriptador\" />\r\n                )\r\n            ) : (\r\n                <Redirect to=\"/\" />\r\n            )}\r\n            {!registrarse && (\r\n                <form class=\"login-wrap\">\r\n                    <h1 class=\"color-black align-center\">Inicio de Sesión</h1>\r\n                    {errorLogin && (\r\n                        <div className=\"error-login\">\r\n                            No se encontro este usuario o la contraseña es incorrecta. Por favor corriga los datos e\r\n                            intentelo de nuevo.\r\n                        </div>\r\n                    )}\r\n\r\n                    <div>\r\n                        <div class=\"form-group\">\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                type=\"text\"\r\n                                name=\"correo\"\r\n                                label=\"Correo\"\r\n                                value={correo}\r\n                                onChange={(e) => {\r\n                                    setCorreo(e.target.value);\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                type=\"password\"\r\n                                name=\"contraseña\"\r\n                                label=\"Contraseña\"\r\n                                value={contraseña}\r\n                                onChange={(e) => {\r\n                                    setContraseña(e.target.value);\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    {loading && <CircularProgress color=\"secondary\" />}\r\n\r\n                    <div class=\"buttons-login\">\r\n                        <Button color=\"primary\" size=\"large\" variant=\"contained\" onClick={iniciarSesion}>\r\n                            Iniciar sesión\r\n                        </Button>\r\n                        <Button color=\"primary\" size=\"large\" variant=\"outlined\" onClick={() => setRegistrarse(true)}>\r\n                            Registrarse\r\n                        </Button>\r\n                    </div>\r\n                </form>\r\n            )}\r\n            {registrarse && (\r\n                <form class=\"login-wrap\">\r\n                    <h1 class=\"color-black align-center\">Registrarse</h1>\r\n                    <div>\r\n                        <div class=\"form-group\">\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                type=\"text\"\r\n                                name=\"nombre\"\r\n                                label=\"Nombre\"\r\n                                value={nombre}\r\n                                onChange={(e) => {\r\n                                    setNombre(e.target.value);\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                type=\"text\"\r\n                                name=\"correo\"\r\n                                label=\"Usuario\"\r\n                                value={correo}\r\n                                onChange={(e) => {\r\n                                    setCorreo(e.target.value);\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                type=\"password\"\r\n                                name=\"contraseña\"\r\n                                label=\"Contraseña\"\r\n                                value={contraseña}\r\n                                onChange={(e) => {\r\n                                    setContraseña(e.target.value);\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                            <FormControl fullWidth variant=\"outlined\">\r\n                                <InputLabel>Tipo de usuario</InputLabel>\r\n                                <Select\r\n                                    label=\"Tipo de usuario\"\r\n                                    value={tipoUsuario}\r\n                                    onChange={(e) => {\r\n                                        setTipoUsuario(e.target.value);\r\n                                    }}\r\n                                    displayEmpty\r\n                                >\r\n                                    <MenuItem value=\"encriptador\">Encriptador</MenuItem>\r\n                                    <MenuItem value=\"desencriptador\">Desencriptador</MenuItem>\r\n                                </Select>\r\n                            </FormControl>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"buttons-login\">\r\n                        <Button color=\"primary\" size=\"large\" variant=\"contained\" onClick={handleRegistrarse}>\r\n                            Registrarse\r\n                        </Button>\r\n                        <Button\r\n                            color=\"primary\"\r\n                            size=\"large\"\r\n                            variant=\"outlined\"\r\n                            onClick={() => setRegistrarse(false)}\r\n                            startIcon={<ArrowBackIosIcon />}\r\n                        >\r\n                            Regresar\r\n                        </Button>\r\n                    </div>\r\n                </form>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n    Button,\r\n    TextField,\r\n    Radio,\r\n    RadioGroup,\r\n    FormControl,\r\n    FormControlLabel,\r\n    FormLabel,\r\n    FormHelperText,\r\n} from '@material-ui/core';\r\n\r\nimport firebase, { firestore } from './../../firebase';\r\nimport Crypter from './../../util/crypter';\r\n\r\nimport _ from 'lodash';\r\n\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport default function Texto() {\r\n    const [nombre, setNombre] = useState('');\r\n    const [contenido, setContenido] = useState('');\r\n    const [tipo, setTipo] = useState(null);\r\n\r\n    const userStore = useSelector((state) => state.user.session);\r\n    const [errorNombre, setErrorNombre] = useState(false);\r\n    const [errorContenido, setErrorContenido] = useState(false);\r\n    const [errorTipo, setErrorTipo] = useState(false);\r\n\r\n    const encriptar = () => {\r\n        if (validar()) {\r\n            firestore\r\n                .collection('data')\r\n                .doc()\r\n                .set({\r\n                    tipo: 'texto',\r\n                    nombre: Crypter.getEncrypted(tipo.trim(), nombre),\r\n                    contenido: Crypter.getEncrypted(tipo.trim(), contenido),\r\n                    fecha: firebase.firestore.Timestamp.now(),\r\n                    tipoEncriptacion: tipo,\r\n                });\r\n            setBitacora();\r\n            setNombre('');\r\n            setContenido('');\r\n            setTipo(null);\r\n        }\r\n    };\r\n\r\n    const validar = () => {\r\n        if (_.isEmpty(nombre)) {\r\n            setErrorNombre(true);\r\n            return false;\r\n        } else {\r\n            setErrorNombre(false);\r\n        }\r\n        if (_.isEmpty(contenido)) {\r\n            setErrorContenido(true);\r\n            return false;\r\n        } else {\r\n            setErrorContenido(false);\r\n        }\r\n        if (_.isNull(tipo)) {\r\n            setErrorTipo(true);\r\n            return false;\r\n        } else {\r\n            setErrorTipo(false);\r\n        }\r\n        console.log(tipo);\r\n        return true;\r\n    };\r\n    const setBitacora = () => {\r\n        firestore\r\n            .collection('bitacora')\r\n            .doc()\r\n            .set({\r\n                fecha: firebase.firestore.Timestamp.now(),\r\n                movimiento: Crypter.AESEncrypt(\r\n                    'El usuario ' + Crypter.AESDecrypt(userStore.usuario) + ' hizo una encriptacion del archivo: ' + nombre\r\n                ),\r\n                tipoArchivo: Crypter.AESEncrypt('texto'),\r\n                usuario: userStore.usuario,\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div class=\"flex column\">\r\n            <TextField\r\n                label=\"Nombre del archivo\"\r\n                variant=\"outlined\"\r\n                placeholder='Ingrese el nombre del archivo ej.: \"Mensaje secreto\"'\r\n                value={nombre}\r\n                onChange={(e) => setNombre(e.target.value)}\r\n                helperText=\"Ingrese un nombre para su archivo\"\r\n                error={errorNombre}\r\n            />\r\n            <br />\r\n            <TextField\r\n                value={contenido}\r\n                onChange={(e) => setContenido(e.target.value)}\r\n                label=\"Ingrese el texto a encriptar\"\r\n                multiline\r\n                rows={8}\r\n                helperText=\"No puede dejar vacio el contenido\"\r\n                variant=\"outlined\"\r\n                error={errorContenido}\r\n            />\r\n            <br />\r\n            <FormControl component=\"fieldset\" error={errorTipo}>\r\n                <FormLabel component=\"legend\">Tipo de Cifrado</FormLabel>\r\n                <RadioGroup aria-label=\"gender\" name=\"gender1\" value={tipo} onChange={(e) => setTipo(e.target.value)}>\r\n                    <FormControlLabel value=\"DES\" control={<Radio />} label=\"DES\" />\r\n                    <FormControlLabel value=\"RC4\" control={<Radio />} label=\"RC4\" />\r\n                </RadioGroup>\r\n                {errorTipo && <FormHelperText>Seleccione un tipo de encriptado</FormHelperText>}\r\n            </FormControl>\r\n\r\n            <Button color=\"primary\" size=\"large\" variant=\"contained\" onClick={encriptar}>\r\n                Encriptar\r\n            </Button>\r\n        </div>\r\n    );\r\n}\r\n","var FileManager = {\r\n    base64toBlob(base64Data, contentType) {\r\n        contentType = contentType || '';\r\n        var sliceSize = 1024;\r\n        var byteCharacters = atob(base64Data);\r\n        var bytesLength = byteCharacters.length;\r\n        var slicesCount = Math.ceil(bytesLength / sliceSize);\r\n        var byteArrays = new Array(slicesCount);\r\n\r\n        for (var sliceIndex = 0; sliceIndex < slicesCount; ++sliceIndex) {\r\n            var begin = sliceIndex * sliceSize;\r\n            var end = Math.min(begin + sliceSize, bytesLength);\r\n\r\n            var bytes = new Array(end - begin);\r\n            for (var offset = begin, i = 0; offset < end; ++i, ++offset) {\r\n                bytes[i] = byteCharacters[offset].charCodeAt(0);\r\n            }\r\n            byteArrays[sliceIndex] = new Uint8Array(bytes);\r\n        }\r\n        return new Blob(byteArrays, { type: contentType });\r\n    },\r\n    blobToFile(theBlob, fileName) {\r\n        //A Blob() is almost a File() - it's just missing the two properties below which we will add\r\n        theBlob.lastModifiedDate = new Date();\r\n        theBlob.name = fileName;\r\n        return theBlob;\r\n    },\r\n};\r\n\r\nexport default FileManager;\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n    Button,\r\n    Radio,\r\n    RadioGroup,\r\n    FormControl,\r\n    FormControlLabel,\r\n    FormLabel,\r\n    FormHelperText,\r\n    LinearProgress,\r\n} from '@material-ui/core';\r\n\r\nimport _ from 'lodash';\r\nimport firebase, { firestore, storage } from './../../firebase';\r\nimport Crypter from './../../util/crypter';\r\nimport FileManager from './../../util/fileManager';\r\n\r\nimport { useSelector } from 'react-redux';\r\nexport default function Archivos() {\r\n    const [contenido, setContenido] = useState(null);\r\n    const [tipo, setTipo] = useState(null);\r\n\r\n    const [errorContenido, setErrorContenido] = useState(false);\r\n    const [errorTipo, setErrorTipo] = useState(false);\r\n\r\n    const [uploading, setUploading] = useState(false);\r\n    const [progress, setProgress] = useState(0);\r\n    const [textProgress, setTextProgress] = useState('');\r\n\r\n    const userStore = useSelector((state) => state.user.session);\r\n\r\n    const encriptar = () => {\r\n        if (validar()) {\r\n            setUploading(true);\r\n            setTextProgress('Encriptando el archivo...');\r\n            var reader = new FileReader();\r\n            reader.readAsDataURL(contenido);\r\n            reader.onload = (e) => {\r\n                var text = e.target.result.split('base64,');\r\n                text = text[1];\r\n                text = Crypter.getEncrypted(tipo, text);\r\n                var fileName = contenido.name;\r\n                var typeFile = contenido.type;\r\n                var blob = FileManager.base64toBlob(text, typeFile);\r\n\r\n                var ref = storage.ref().child(fileName);\r\n\r\n                var upload = ref.put(blob);\r\n\r\n                upload.on(\r\n                    'state_changed',\r\n                    function (snapshot) {\r\n                        // Observe state change events such as progress, pause, and resume\r\n                        // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n                        setTextProgress('¡Archivo encriptado correctamente!. Subiendio archivo...');\r\n                        var onProgress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n                        setProgress(onProgress);\r\n                    },\r\n                    function (error) {\r\n                        // Handle unsuccessful uploads\r\n                    },\r\n                    function () {\r\n                        // Handle successful uploads on complete\r\n                        // For instance, get the download URL: https://firebasestorage.googleapis.com/...\r\n                        upload.snapshot.ref.getDownloadURL().then(function (url) {\r\n                            setTextProgress(\r\n                                <span>\r\n                                    ¡Completado! <br /> El archivo fue encriptado y subido correctamente al servidor.\r\n                                </span>\r\n                            );\r\n                            firestore\r\n                                .collection('data')\r\n                                .doc()\r\n                                .set({\r\n                                    tipo: 'documento',\r\n                                    nombre: Crypter.getEncrypted(tipo.trim(), fileName),\r\n                                    contenido: Crypter.getEncrypted(tipo.trim(), url),\r\n                                    fecha: firebase.firestore.Timestamp.now(),\r\n                                    tipoEncriptacion: tipo,\r\n                                })\r\n                                .then(() => {\r\n                                    setContenido(null);\r\n                                    setTipo(null);\r\n                                });\r\n                            setBitacora();\r\n                        });\r\n                    }\r\n                );\r\n            };\r\n        }\r\n    };\r\n    const setBitacora = () => {\r\n        firestore\r\n            .collection('bitacora')\r\n            .doc()\r\n            .set({\r\n                fecha: firebase.firestore.Timestamp.now(),\r\n                movimiento: Crypter.AESEncrypt(\r\n                    'El usuario ' +\r\n                        Crypter.AESDecrypt(userStore.usuario) +\r\n                        ' hizo una encriptacion del archivo: ' +\r\n                        contenido.name\r\n                ),\r\n                tipoArchivo: Crypter.AESEncrypt('documento'),\r\n                usuario: userStore.usuario,\r\n            });\r\n    };\r\n\r\n    const validar = () => {\r\n        if (_.isNull(contenido)) {\r\n            setErrorContenido(true);\r\n            return false;\r\n        } else {\r\n            setErrorContenido(false);\r\n        }\r\n        if (_.isNull(tipo)) {\r\n            setErrorTipo(true);\r\n            return false;\r\n        } else {\r\n            setErrorTipo(false);\r\n        }\r\n        console.log(tipo);\r\n        return true;\r\n    };\r\n    return (\r\n        <div class=\"flex column\">\r\n            {!uploading && (\r\n                <>\r\n                    <FormControl error={errorContenido}>\r\n                        <label>Archivo seleccionado: {contenido !== null && contenido.name}</label>\r\n                        <input\r\n                            hidden\r\n                            id=\"contained-button-file\"\r\n                            type=\"file\"\r\n                            onChange={(e) => setContenido(e.target.files[0])}\r\n                        />\r\n                        <label htmlFor=\"contained-button-file\">\r\n                            <Button fullWidth variant=\"contained\" color=\"primary\" component=\"span\">\r\n                                Upload\r\n                            </Button>\r\n                        </label>\r\n                        {errorContenido && <FormHelperText>Seleccione un archivo para encriptar</FormHelperText>}\r\n                    </FormControl>\r\n                    <br />\r\n                    <FormControl component=\"fieldset\" error={errorTipo}>\r\n                        <FormLabel component=\"legend\">Tipo de Cifrado</FormLabel>\r\n                        <RadioGroup\r\n                            aria-label=\"gender\"\r\n                            name=\"gender1\"\r\n                            value={tipo}\r\n                            onChange={(e) => setTipo(e.target.value)}\r\n                        >\r\n                            <FormControlLabel value=\"DES\" control={<Radio />} label=\"DES\" />\r\n                            <FormControlLabel value=\"RC4\" control={<Radio />} label=\"RC4\" />\r\n                        </RadioGroup>\r\n                        {errorTipo && <FormHelperText>Seleccione un tipo de encriptado</FormHelperText>}\r\n                    </FormControl>\r\n                    <br />\r\n\r\n                    <Button color=\"primary\" size=\"large\" variant=\"contained\" onClick={encriptar}>\r\n                        Encriptar\r\n                    </Button>\r\n                </>\r\n            )}\r\n\r\n            {uploading && (\r\n                <>\r\n                    <h4 className=\"progress-text\">{textProgress}</h4>\r\n                    <LinearProgress variant=\"determinate\" color=\"secondary\" value={progress} />\r\n                    {progress == 100 && (\r\n                        <Button color=\"primary\" size=\"large\" variant=\"contained\" onClick={() => setUploading(false)}>\r\n                            Encriptar otro archivo\r\n                        </Button>\r\n                    )}\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport List from '@material-ui/core/List';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport TextFieldsIcon from '@material-ui/icons/TextFields';\r\nimport DescriptionIcon from '@material-ui/icons/Description';\r\n\r\nimport { firestore } from './../../firebase';\r\nimport Crypter from './../../util/crypter';\r\n\r\nimport moment from 'moment';\r\n\r\nexport default function ListaEncriptada() {\r\n    const [lista, setLista] = useState([]);\r\n\r\n    useEffect(() => {\r\n        firestore.collection('data').onSnapshot((response) => {\r\n            var listaFinal = [];\r\n            response.forEach((objet) => {\r\n                listaFinal.push(objet.data());\r\n            });\r\n            setLista(listaFinal);\r\n        });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        console.log(lista);\r\n    }, [lista]);\r\n\r\n    return (\r\n        <div class=\"menu-derecho\">\r\n            <div>\r\n                <List component=\"nav\" aria-label=\"main mailbox folders\">\r\n                    {lista.map((objeto) => {\r\n                        var icono = '';\r\n                        if (objeto.tipo === 'documento') {\r\n                            icono = <DescriptionIcon />;\r\n                        } else {\r\n                            icono = <TextFieldsIcon />;\r\n                        }\r\n\r\n                        var nombre = Crypter.getDesencrypted(objeto.tipoEncriptacion, objeto.nombre);\r\n\r\n                        return (\r\n                            <ListItem>\r\n                                <ListItemIcon>{icono}</ListItemIcon>\r\n                                <ListItemText\r\n                                    primary={nombre}\r\n                                    secondary={moment.unix(objeto.fecha.seconds).format('LLLL')}\r\n                                />\r\n                            </ListItem>\r\n                        );\r\n                    })}\r\n                </List>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Modal, IconButton } from '@material-ui/core';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport moment from 'moment';\r\n\r\nimport Crypter from './../util/crypter';\r\n\r\nimport AssignmentIcon from '@material-ui/icons/Assignment';\r\n\r\nimport { firestore } from './../firebase';\r\n\r\nexport default function Bitacora() {\r\n    const [open, setOpen] = useState(false);\r\n    function createData(name, tipo, usuario, fecha) {\r\n        return { name, tipo, usuario, fecha };\r\n    }\r\n    const [rows, setRows] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (open) {\r\n            firestore\r\n                .collection('bitacora')\r\n                .get()\r\n                .then((data) => {\r\n                    var finalRow = [];\r\n                    data.forEach((element) => {\r\n                        var e = element.data();\r\n                        finalRow.push(\r\n                            createData(\r\n                                Crypter.AESDecrypt(e.movimiento),\r\n                                Crypter.AESDecrypt(e.tipoArchivo),\r\n                                Crypter.AESDecrypt(e.usuario),\r\n                                moment.unix(e.fecha.seconds).format('LLLL')\r\n                            )\r\n                        );\r\n                    });\r\n                    setRows(finalRow);\r\n                });\r\n        }\r\n    }, [open]);\r\n    return (\r\n        <>\r\n            <Modal open={open} onClose={() => setOpen(false)} className=\"flex center modal\">\r\n                <TableContainer component={Paper} color=\"primary\" className=\"bitacora\">\r\n                    <Table aria-label=\"a dense table\">\r\n                        <TableHead>\r\n                            <TableRow>\r\n                                <TableCell align=\"center\">Descripción</TableCell>\r\n                                <TableCell align=\"center\">Tipo archivo</TableCell>\r\n                                <TableCell align=\"center\">Usuario</TableCell>\r\n                                <TableCell align=\"center\">Fecha</TableCell>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                            {rows.map((row) => (\r\n                                <TableRow key={row.name}>\r\n                                    <TableCell component=\"th\" scope=\"row\">\r\n                                        {row.name}\r\n                                    </TableCell>\r\n                                    <TableCell align=\"right\">{row.tipo}</TableCell>\r\n                                    <TableCell align=\"right\">{row.usuario}</TableCell>\r\n                                    <TableCell align=\"right\">{row.fecha}</TableCell>\r\n                                </TableRow>\r\n                            ))}\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n            </Modal>\r\n            <IconButton onClick={() => setOpen(true)}>\r\n                <AssignmentIcon />\r\n            </IconButton>\r\n        </>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n    Button,\r\n    AppBar,\r\n    Tab,\r\n    Tabs,\r\n    Box,\r\n    Typography,\r\n    TextField,\r\n    Radio,\r\n    RadioGroup,\r\n    FormControl,\r\n    FormControlLabel,\r\n    FormLabel,\r\n    Toolbar,\r\n} from '@material-ui/core';\r\n\r\nimport Texto from './texto';\r\nimport Archivos from './archivos';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\n\r\nimport ListaEncriptada from './listaEncriptada';\r\n\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { deleteSession } from './../../redux/user';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Bitacora from '../bitacora';\r\nfunction TabPanel(props) {\r\n    const { children, value, index, ...other } = props;\r\n\r\n    return (\r\n        <div\r\n            role=\"tabpanel\"\r\n            hidden={value !== index}\r\n            id={`simple-tabpanel-${index}`}\r\n            aria-labelledby={`simple-tab-${index}`}\r\n            {...other}\r\n        >\r\n            {value === index && (\r\n                <Box p={3}>\r\n                    <Typography>{children}</Typography>\r\n                </Box>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default function Encriptador() {\r\n    const [value, setValue] = React.useState(0);\r\n    const handleChange = (event, newValue) => {\r\n        setValue(newValue);\r\n    };\r\n\r\n    //section:Para uso del redux y la sesion de usuario\r\n    const userStore = useSelector((state) => state.user.session);\r\n    const dispatch = useDispatch();\r\n\r\n    const cerrarSesion = () => {\r\n        dispatch(deleteSession());\r\n    };\r\n\r\n    return (\r\n        <div class=\"container\">\r\n            {userStore == null && <Redirect to=\"/\" />}\r\n            <div class=\"menu-izquierdo\">\r\n                <AppBar position=\"static\">\r\n                    <Toolbar>\r\n                        <Typography className=\"grow-1\" variant=\"h5\" noWrap>\r\n                            Crypto Unach\r\n                        </Typography>\r\n                        <Bitacora />\r\n                        <Button\r\n                            onClick={cerrarSesion}\r\n                            endIcon={<ExitToAppIcon />}\r\n                            className=\"cerrar-sesion\"\r\n                            edge=\"end\"\r\n                            color=\"inherit\"\r\n                        >\r\n                            Cerrar sesion\r\n                        </Button>\r\n                    </Toolbar>\r\n                    <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\" variant=\"fullWidth\">\r\n                        <Tab label=\"Texto\" />\r\n                        <Tab label=\"Archivos\" />\r\n                    </Tabs>\r\n                </AppBar>\r\n                <TabPanel value={value} index={0}>\r\n                    <Texto></Texto>\r\n                </TabPanel>\r\n\r\n                <TabPanel value={value} index={1}>\r\n                    <Archivos></Archivos>\r\n                </TabPanel>\r\n            </div>\r\n            <ListaEncriptada />\r\n        </div>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport List from '@material-ui/core/List';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport TextFieldsIcon from '@material-ui/icons/TextFields';\r\nimport DescriptionIcon from '@material-ui/icons/Description';\r\n\r\nimport { firestore } from '../../firebase';\r\nimport Crypter from '../../util/crypter';\r\nimport moment from 'moment';\r\n\r\nimport { useDispatch } from 'react-redux';\r\nimport { setSelectedFile } from '../../redux/user';\r\n\r\nexport default function ListaEncriptada() {\r\n    const [lista, setLista] = useState([]);\r\n\r\n    useEffect(() => {\r\n        firestore.collection('data').onSnapshot((response) => {\r\n            var listaFinal = [];\r\n            response.forEach((objet) => {\r\n                listaFinal.push(objet.data());\r\n            });\r\n            setLista(listaFinal);\r\n        });\r\n    }, []);\r\n\r\n    const dispatch = useDispatch();\r\n    const desencriptar = (doc) => {\r\n        dispatch(setSelectedFile(doc));\r\n    };\r\n\r\n    return (\r\n        <div class=\"menu-derecho\">\r\n            <div>\r\n                <List component=\"nav\" aria-label=\"main mailbox folders\">\r\n                    {lista.map((objeto) => {\r\n                        var icono = '';\r\n                        if (objeto.tipo === 'documento') {\r\n                            icono = <DescriptionIcon />;\r\n                        } else {\r\n                            icono = <TextFieldsIcon />;\r\n                        }\r\n\r\n                        var nombre = Crypter.getDesencrypted(objeto.tipoEncriptacion, objeto.nombre);\r\n\r\n                        return (\r\n                            <ListItem button onClick={() => desencriptar(objeto)}>\r\n                                <ListItemIcon>{icono}</ListItemIcon>\r\n                                <ListItemText\r\n                                    primary={nombre}\r\n                                    secondary={moment.unix(objeto.fecha.seconds).format('LLLL')}\r\n                                />\r\n                            </ListItem>\r\n                        );\r\n                    })}\r\n                </List>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { createElement, useEffect, useState } from 'react';\r\nimport { Button, AppBar, Box, Typography, Toolbar, LinearProgress, TextField } from '@material-ui/core';\r\nimport LockIcon from '@material-ui/icons/Lock';\r\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\n\r\nimport ListaEncriptada from './listaEncriptada';\r\nimport _ from 'lodash';\r\n\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { deleteSession } from '../../redux/user';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport Crypter from './../../util/crypter';\r\nimport FileManager from './../../util/fileManager';\r\nimport firebase, { firestore } from './../../firebase';\r\nimport Bitacora from '../bitacora';\r\n\r\nexport default function Desencriptador() {\r\n    const [file, setFile] = useState({});\r\n    const [isEncrypted, setIsEncrypted] = useState(true);\r\n    const [linkArchivo, setLinkArchivo] = useState('');\r\n    const [isDocument, setIsDocument] = useState(false);\r\n\r\n    const [textoDesencriptado, setTextoDesencriptado] = useState('');\r\n\r\n    const [isDecrypting, setIsDecrypting] = useState(false);\r\n    const [textProgress, setTextProgress] = useState('');\r\n\r\n    //section:Para uso del redux y la sesion de usuario\r\n    const userStore = useSelector((state) => state.user.session);\r\n    const selectedFile = useSelector((state) => state.user.selectedFile);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if (selectedFile !== null) {\r\n            console.log(selectedFile);\r\n            setFile(selectedFile);\r\n            if (selectedFile.tipo == 'documento') {\r\n                setIsDocument(true);\r\n            } else {\r\n                setIsDocument(false);\r\n            }\r\n            setIsEncrypted(true);\r\n        }\r\n    }, [selectedFile]);\r\n\r\n    const desencriptar = () => {\r\n        if (file.tipo == 'documento') {\r\n            setIsDecrypting(true);\r\n            setTextProgress('Descargando archivo...');\r\n            fetch(Crypter.getDesencrypted(file.tipoEncriptacion, file.contenido))\r\n                .then((resp) => resp.blob())\r\n                .then((originalFile) => {\r\n                    setTextProgress('Desencriptando archivo...');\r\n                    var reader = new FileReader();\r\n                    reader.readAsDataURL(originalFile);\r\n                    console.log(originalFile);\r\n                    reader.onload = (e) => {\r\n                        var text = e.target.result.split('base64,').pop();\r\n\r\n                        var typeFile = originalFile.type;\r\n                        var extension = typeFile.split('/').pop();\r\n\r\n                        text = Crypter.getDesencrypted(file.tipoEncriptacion, text);\r\n                        var fileName = Crypter.getDesencrypted(file.tipoEncriptacion, file.nombre);\r\n\r\n                        var blobDecrypted = FileManager.base64toBlob(text, typeFile);\r\n                        var url = window.URL.createObjectURL(blobDecrypted);\r\n\r\n                        // url += '.' + extension;\r\n\r\n                        console.log(extension);\r\n\r\n                        var link = (\r\n                            <Button variant=\"contained\" color=\"primary\" href={url} download={fileName}>\r\n                                Descargar archivo\r\n                            </Button>\r\n                        );\r\n                        setLinkArchivo(link);\r\n                        setIsDecrypting(false);\r\n                        setIsEncrypted(false);\r\n                        setBitacora();\r\n                    };\r\n                });\r\n        } else {\r\n            setTextoDesencriptado(Crypter.getDesencrypted(file.tipoEncriptacion, file.contenido));\r\n            setIsEncrypted(false);\r\n            setBitacora();\r\n        }\r\n    };\r\n\r\n    const setBitacora = () => {\r\n        firestore\r\n            .collection('bitacora')\r\n            .doc()\r\n            .set({\r\n                fecha: firebase.firestore.Timestamp.now(),\r\n                movimiento: Crypter.AESEncrypt(\r\n                    'El usuario ' +\r\n                        Crypter.AESDecrypt(userStore.usuario) +\r\n                        ' hizo una desencriptacion del archivo: ' +\r\n                        Crypter.getDesencrypted(file.tipoEncriptacion, file.nombre)\r\n                ),\r\n                tipoArchivo: Crypter.AESEncrypt(file.tipo),\r\n                usuario: userStore.usuario,\r\n            });\r\n    };\r\n\r\n    const cerrarSesion = () => {\r\n        dispatch(deleteSession());\r\n    };\r\n\r\n    return (\r\n        <div class=\"container\">\r\n            {userStore == null && <Redirect to=\"/\" />}\r\n            <div class=\"menu-izquierdo\">\r\n                <AppBar position=\"relative\">\r\n                    <Toolbar>\r\n                        <Typography className=\"grow-1\" variant=\"h5\" noWrap>\r\n                            Crypto Unach\r\n                        </Typography>\r\n                        <Bitacora />\r\n                        <Button\r\n                            onClick={cerrarSesion}\r\n                            endIcon={<ExitToAppIcon />}\r\n                            className=\"cerrar-sesion\"\r\n                            edge=\"end\"\r\n                            color=\"inherit\"\r\n                        >\r\n                            Cerrar sesion\r\n                        </Button>\r\n                    </Toolbar>\r\n                </AppBar>\r\n                <div className=\"flex column center height-complete menu-desencriptado\">\r\n                    {!_.isEmpty(file) && (\r\n                        <div className=\"flex column center\" style={{ width: '80%' }}>\r\n                            <h2>{Crypter.getDesencrypted(file.tipoEncriptacion, file.nombre)}</h2>\r\n                            {isEncrypted && (\r\n                                <>\r\n                                    <LockIcon style={{ fontSize: 100, color: '#607d8b' }} />\r\n                                    <h3>Encriptado con {file.tipoEncriptacion}</h3>\r\n                                    <Button color=\"primary\" variant=\"contained\" onClick={desencriptar}>\r\n                                        Desencriptar\r\n                                    </Button>\r\n                                </>\r\n                            )}\r\n                            {isDecrypting && (\r\n                                <>\r\n                                    <h4 className=\"progress-text\">{textProgress}</h4>\r\n                                    <LinearProgress color=\"secondary\" />\r\n                                </>\r\n                            )}\r\n                            {isDocument && !isEncrypted && (\r\n                                <>\r\n                                    <LockOpenIcon style={{ fontSize: 100, color: '#4caf50' }} />\r\n                                    <h3 className=\"progress-text\">\r\n                                        ¡Listo!. <br /> Archivo desencriptado exitosamente\r\n                                    </h3>\r\n                                    {linkArchivo}\r\n                                </>\r\n                            )}\r\n                            {!isDocument && !isEncrypted && (\r\n                                <>\r\n                                    <LockOpenIcon style={{ fontSize: 100, color: '#4caf50' }} />\r\n                                    <h3 className=\"progress-text\">\r\n                                        ¡Listo!. <br /> Archivo desencriptado exitosamente\r\n                                    </h3>\r\n                                    <TextField\r\n                                        id=\"filled-basic\"\r\n                                        label=\"Filled\"\r\n                                        variant=\"filled\"\r\n                                        multiline={true}\r\n                                        rows={15}\r\n                                        value={textoDesencriptado}\r\n                                        style={{ alignSelf: 'normal' }}\r\n                                    />\r\n                                </>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n\r\n                    {_.isEmpty(file) && <h2>Seleccione un archivo de la lista para desencriptar</h2>}\r\n                </div>\r\n            </div>\r\n            <ListaEncriptada />\r\n        </div>\r\n    );\r\n}\r\n","import React, { Component } from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\n\r\n// IMPORTACION DE COMPONTENTES/RUTAS\r\n\r\nimport Login from './pages/login';\r\nimport Encriptador from './pages/encriptador/encriptador';\r\nimport Desencriptador from './pages/desencriptador/desencriptador';\r\nexport default class Router extends Component {\r\n    render() {\r\n        return (\r\n            <BrowserRouter>\r\n                <Switch>\r\n                    <Route exact path=\"/\" component={Login} />\r\n                    <Route exact path=\"/encriptador\" component={Encriptador} />\r\n                    <Route exact path=\"/desencriptador\" component={Desencriptador} />\r\n                </Switch>\r\n            </BrowserRouter>\r\n        );\r\n    }\r\n}\r\n","import { createStore, combineReducers, compose, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\n//REDUCERS\r\nimport userReducer from \"./user\"\r\n//LISTA DE REDUCERS\r\nconst rootReducer = combineReducers({\r\n    user: userReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport default function generateStore() {\r\n    const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\r\n    return store;\r\n}\r\n","import './App.css';\nimport './styles/styles.css';\nimport Router from './router';\nimport { ThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport moment from 'moment';\nimport 'moment/locale/es';\n//redux\nimport { Provider } from 'react-redux';\nimport generateStore from './redux/store';\n\nconst theme = createMuiTheme({\n    palette: {\n        primary: {\n            light: '#6ec6ff',\n            main: '#2196f3',\n            dark: '#0069c0',\n            contrastText: '#000',\n        },\n        secondary: {\n            light: '#ffd95b',\n            main: '#ffa726',\n            dark: '#c77800',\n            contrastText: '#000',\n        },\n    },\n});\nfunction App() {\n    moment.locale('es');\n    const store = generateStore();\n    return (\n        <ThemeProvider theme={theme}>\n            <Provider store={store}>\n                <Router />\n            </Provider>\n        </ThemeProvider>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}